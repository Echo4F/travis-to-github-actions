(this["webpackJsonptravis-to-github-actions"]=this["webpackJsonptravis-to-github-actions"]||[]).push([[0],{100:function(e,n,t){"use strict";t.r(n);var s=t(2),r=t(0),a=t.n(r),i=t(59),c=t.n(i),o=t(5),u=t(111),l=t(112),h=t(116),p=(t(71),t(37));function d(e){return void 0===e?[]:Array.isArray(e)?e:[e]}function j(e){var n={"runs-on":"${{ matrix.os }}",strategy:{matrix:{os:["ubuntu-18.04"],exclude:[]}},steps:[{uses:"actions/checkout@v2"}]};return function(e,n){!function(e,n){var t=e.travis,s=e.messages;("python"===t.language||t.python)&&(s.push({type:"info",text:"Python versions are not yet parsed from the Travis configuration."}),n.strategy.matrix["python-version"]=["3.8"],n.steps.push({name:"Set up Python ${{ matrix.python-version }}",uses:"actions/setup-python@v2",with:{"python-version":"${{ matrix.python-version }}"}}),delete t.python,delete t.language)}(e,n),function(e,n){var t=e.travis,s=e.messages;("node_js"===t.language||t.node_js)&&(s.push({type:"info",text:"Node.js versions are not yet parsed from the Travis configuration."}),n.strategy.matrix["node-version"]=["14.x"],n.steps.push({name:"Set up Node.js ${{ matrix.node-version }}",uses:"actions/setup-node@v1",with:{"node-version":"${{ matrix.node-version }}"}}),delete t.node_js,delete t.language)}(e,n)}(e,n),function(e,n){e.travis.cache&&!0!==e.travis.cache&&e.travis.cache.directories&&(n.steps.push({name:"Cache multiple paths",uses:"actions/cache@v2",with:{path:d(e.travis.cache.directories).join("\n"),key:"${{ runner.os }}-${{ hashFiles('TODO') }}"}}),e.messages.push({type:"info",text:"Please revise the cache key for `actions/cache`."}),delete e.travis.cache)}(e,n),function(e,n){var t=e.travis,s=e.messages,r=n.steps;d(t.install).forEach((function(e){r.push({run:e})})),delete t.install,d(t.script).forEach((function(e){r.push({run:e})})),delete t.script,t.after_success&&(d(t.after_success).forEach((function(e){r.push({run:e})})),s.push({type:"warning",text:"After-success are concatenated onto regular steps"}),delete t.after_success)}(e,n),n}function b(e){if(!(e=e.trim()).length)return{yaml:"",messages:[]};var n=function(e){return{travis:Object(p.safeLoad)(e),messages:[],github:{name:"Converted Workflow",on:{push:{branches:["master"]},pull_request:{branches:["master"]}},jobs:{}}}}(e),t=n.travis,s=n.messages,r=n.github;return function(e){var n=e.travis,t=e.messages;n.sudo&&t.push({type:"info",text:"Ignoring `sudo`"}),delete n.sudo,n.dist&&t.push({type:"info",text:"Ignoring `dist`"}),delete n.dist}(n),r.jobs.Build=j(n),{yaml:Object(p.safeDump)(r),messages:s,remainingTravis:t&&Object.keys(t).length?Object(p.safeDump)(t):void 0}}var v=t(118);function x(e){var n=e.messages;return n.length?Object(s.jsx)("div",{children:n.map((function(e){var n=e.type,t=e.text;return Object(s.jsxs)(v.a,{status:n,children:[Object(s.jsx)(v.c,{}),Object(s.jsx)(v.b,{children:t})]})}))}):null}function g(e){var n=e.result;return n&&n.error?Object(s.jsx)("div",{children:Object(s.jsxs)(v.a,{status:"error",children:[Object(s.jsx)(v.c,{}),Object(s.jsxs)(v.b,{children:["Conversion failed: $",n.error]})]})}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(u.a,{direction:"column",flex:1,margin:2,children:[Object(s.jsx)(l.a,{as:"h4",size:"md",children:"GitHub Actions YAML"}),Object(s.jsx)(h.a,{placeholder:"GitHub Actions YAML will appear here",readOnly:!0,value:n.yaml,style:{height:"auto"},flex:1}),Object(s.jsx)(x,{messages:n.messages})]}),n.remainingTravis?Object(s.jsxs)(u.a,{direction:"column",flex:1,margin:2,children:[Object(s.jsx)(l.a,{as:"h4",size:"md",children:"Unconverted Travis configuration"}),Object(s.jsxs)(v.a,{status:"info",children:[Object(s.jsx)(v.c,{}),Object(s.jsxs)(v.b,{children:["The app doesn't yet know how to handle whatever remains in this box.",Object(s.jsx)("br",{}),"If you can help, please open a PR on GitHub \u261d\ufe0f"]})]}),Object(s.jsx)(h.a,{placeholder:"GitHub Actions YAML will appear here",readOnly:!0,value:n.remainingTravis,style:{height:"auto"},flex:1})]}):null]})}var f=t(114),m=t(117),y=function(){return Object(s.jsxs)(u.a,{as:"nav",align:"center",justify:"space-between",wrap:"wrap",padding:"1.5rem",bg:"blue.500",color:"white",children:[" ",Object(s.jsx)(u.a,{align:"center",mr:5,children:Object(s.jsx)(l.a,{as:"h1",size:"lg",children:"Travis to GitHub Actions converter"})}),Object(s.jsx)(f.a,{mt:{base:4,md:0},children:Object(s.jsx)(m.a,{bg:"transparent",border:"1px",as:"a",target:"_blank",href:"https://github.com/akx/travis-to-github-actions",children:"Contribute on GitHub"})})]})};var O=function(){var e,n=a.a.useState(""),t=Object(o.a)(n,2),r=t[0],i=t[1],c=(e=r,a.a.useMemo((function(){try{return b(e)}catch(n){return{yaml:"",messages:[],error:n.toString(),errorDetail:n}}}),[e]));return Object(s.jsxs)(u.a,{direction:"column",flex:1,children:[Object(s.jsx)(y,{}),Object(s.jsxs)(u.a,{padding:5,flex:1,children:[Object(s.jsxs)(u.a,{flex:2,direction:"column",margin:2,children:[Object(s.jsxs)(u.a,{justify:"space-between",children:[Object(s.jsx)(l.a,{as:"h4",size:"md",children:"Input Travis.yml"}),Object(s.jsx)("a",{href:"#",onClick:function(){return i('dist: xenial\nlanguage: python\n\n# Use travis docker infrastructure for greater speed\nsudo: false\n\ncache:\n  directories:\n  - cldr\n  - "$HOME/.cache/pip"\n  - "$HOME/.pyenv"\n\nmatrix:\n  include:\n    - os: linux\n      python: 2.7\n      env:\n      - PYTEST_VERSION=4.3.1\n    - os: linux\n      python: 2.7\n      env:\n      - CDECIMAL=m3-cdecimal\n      - PYTEST_VERSION=4.3.1\n    - os: linux\n      dist: trusty\n      python: pypy\n      env:\n      - PYTEST_VERSION=4.3.1\n    - os: linux\n      dist: trusty\n      python: pypy3\n      env:\n      - PYTEST_VERSION=6.1.2\n    - os: linux\n      python: 3.4\n      env:\n      - PYTEST_VERSION=4.3.1\n    - os: linux\n      python: 3.5\n      env:\n      - PYTHON_TEST_FLAGS=-bb\n      - PYTEST_VERSION=6.1.2\n    - os: linux\n      python: 3.6\n      env:\n      - PYTEST_VERSION=6.1.2\n    - os: linux\n      python: 3.7\n      env:\n      - PYTEST_VERSION=6.1.2\n    - os: linux\n      python: 3.8\n      env:\n      - PYTEST_VERSION=6.1.2\n\ninstall:\n  - bash .ci/deps.${TRAVIS_OS_NAME}.sh\n  - pip install --upgrade pip\n  - pip install --upgrade $CDECIMAL pytest==$PYTEST_VERSION pytest-cov freezegun==0.3.12\n  - pip install --editable .\n\nscript:\n  - make test-cov\n  - bash .ci/deploy.${TRAVIS_OS_NAME}.sh\n\nnotifications:\n  email: false\n  irc:\n    channels:\n      - "chat.freenode.net#pocoo"\n    on_success: change\n    on_failure: always\n    use_notice: true\n    skip_join: true')},children:"Load example"})]}),Object(s.jsx)(h.a,{placeholder:"Paste a travis.yml here",value:r,onChange:function(e){return i(e.target.value)},style:{height:"auto"},flex:1})]}),Object(s.jsx)(u.a,{flex:3,direction:"row",children:Object(s.jsx)(g,{result:c})})]})]})},T=t(115);c.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(T.a,{children:Object(s.jsx)(O,{})})}),document.getElementById("root"))},71:function(e,n,t){}},[[100,1,2]]]);
//# sourceMappingURL=main.c712c3a1.chunk.js.map